import{az as Qn,aA as Zn,aB as eo,aC as to,r as u,aq as an,aD as Ce,aE as et,aF as fe,u as ne,aG as ln,d as W,aH as no,j as r,P as De,E as Re,ax as ve,Q as Ue,aI as tt,aJ as A,aK as oo,ag as he,aL as so,aM as cn,ay as ce,af as ro,n as Ve,aN as ao,C as ae,F as k,T as O,ao as dn,g as R,B as $,x as un,aO as Ye,ah as io,aP as lo,R as co,aQ as uo,aR as po,aS as fo,y as ho,v as pn,aT as mo,aU as go,aV as xo,aW as vo,aX as me,f as nt,b as ot,A as bo,aY as yo,aZ as jo,a_ as _o,a$ as ie,b0 as Po,b1 as Eo,b2 as ge,m as wo,b3 as st,b4 as K,w as J,b5 as Io,b6 as Oe,i as fn,S as hn,b7 as So,b8 as Co,D as Do,b9 as Ro,ba as Oo,s as rt,bb as To,bc as Mo,bd as mt,be as Te,bf as mn,bg as No,bh as gn,h as xn,av as ko,bi as Ao,bj as ue,bk as vn,bl as Lo,bm as zo,e as Fo,bn as Bo,bo as Wo,bp as bn,bq as $o,K as ee,a2 as te,t as Ho,a9 as yn,br as Uo,bs as jn,bt as Ge,bu as _n,bv as Pn,bw as gt,bx as Vo,by as En,bz as Yo,bA as Go,bB as Ko,bC as at,bD as qo,bE as Ke,bF as Xo,Y as Q,bG as Jo,bH as Ae,bI as Qo,bJ as Zo,bK as es,bL as ts,L as ns,N as xt,bM as it,bN as os,bO as ss,bP as rs,bQ as Le,H as as,bR as vt,bS as qe,bT as wn,a5 as is,bU as ls,bV as cs,bW as lt,bX as ds,bY as us,bZ as ps,b_ as In,b$ as fs,c0 as hs,c1 as Xe,c2 as ms,c3 as gs,c4 as xs,c5 as vs,c6 as bs,a as ys,c7 as js,c8 as _s,c9 as Ps,ca as Es,cb as ws,cc as Is,cd as Ss,ce as Cs,cf as Ds,cg as bt,V as Rs,W as Os,ch as Sn,ci as Cn,cj as Dn,ck as Rn,cl as Ts,cm as Ms,cn as Ns,co as ks,cp as Je,cq as ze}from"./sanity-1823015d.js";function On(t,e){var n=typeof e=="object";return new Promise(function(o,s){var a=new Qn({next:function(i){o(i),a.unsubscribe()},error:s,complete:function(){n?o(e.defaultValue):s(new Zn)}});t.subscribe(a)})}function As(){return eo(function(t,e){var n,o=!1;t.subscribe(to(e,function(s){var a=n;n=s,o&&e.next([a,s]),o=!0}))})}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var yt=Object.getOwnPropertySymbols,Ls=Object.prototype.hasOwnProperty,zs=Object.prototype.propertyIsEnumerable;function Fs(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Bs(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var o=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(o.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(a){s[a]=a}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Ws=Bs()?Object.assign:function(t,e){for(var n,o=Fs(t),s,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var i in n)Ls.call(n,i)&&(o[i]=n[i]);if(yt){s=yt(n);for(var l=0;l<s.length;l++)zs.call(n,s[l])&&(o[s[l]]=n[s[l]])}}return o},be=Ws,$s={};function V(t,e,n,o,s,a,i,l){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,o,s,a,i,l],f=0;c=new Error(e.replace(/%s/g,function(){return d[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var jt="mixins";function Hs(t,e,n){var o=[],s={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},a={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},i={displayName:function(h,p){h.displayName=p},mixins:function(h,p){if(p)for(var x=0;x<p.length;x++)c(h,p[x])},childContextTypes:function(h,p){h.childContextTypes=be({},h.childContextTypes,p)},contextTypes:function(h,p){h.contextTypes=be({},h.contextTypes,p)},getDefaultProps:function(h,p){h.getDefaultProps?h.getDefaultProps=m(h.getDefaultProps,p):h.getDefaultProps=p},propTypes:function(h,p){h.propTypes=be({},h.propTypes,p)},statics:function(h,p){d(h,p)},autobind:function(){}};function l(h,p){var x=s.hasOwnProperty(p)?s[p]:null;P.hasOwnProperty(p)&&V(x==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",p),h&&V(x==="DEFINE_MANY"||x==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",p)}function c(h,p){if(p){V(typeof p!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),V(!e(p),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var x=h.prototype,S=x.__reactAutoBindPairs;p.hasOwnProperty(jt)&&i.mixins(h,p.mixins);for(var y in p)if(p.hasOwnProperty(y)&&y!==jt){var E=p[y],D=x.hasOwnProperty(y);if(l(D,y),i.hasOwnProperty(y))i[y](h,E);else{var T=s.hasOwnProperty(y),N=typeof E=="function",C=N&&!T&&!D&&p.autobind!==!1;if(C)S.push(y,E),x[y]=E;else if(D){var M=s[y];V(T&&(M==="DEFINE_MANY_MERGED"||M==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",M,y),M==="DEFINE_MANY_MERGED"?x[y]=m(x[y],E):M==="DEFINE_MANY"&&(x[y]=g(x[y],E))}else x[y]=E}}}}function d(h,p){if(p)for(var x in p){var S=p[x];if(p.hasOwnProperty(x)){var y=x in i;V(!y,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',x);var E=x in h;if(E){var D=a.hasOwnProperty(x)?a[x]:null;V(D==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",x),h[x]=m(h[x],S);return}h[x]=S}}}function f(h,p){V(h&&p&&typeof h=="object"&&typeof p=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var x in p)p.hasOwnProperty(x)&&(V(h[x]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",x),h[x]=p[x]);return h}function m(h,p){return function(){var S=h.apply(this,arguments),y=p.apply(this,arguments);if(S==null)return y;if(y==null)return S;var E={};return f(E,S),f(E,y),E}}function g(h,p){return function(){h.apply(this,arguments),p.apply(this,arguments)}}function j(h,p){var x=p.bind(h);return x}function v(h){for(var p=h.__reactAutoBindPairs,x=0;x<p.length;x+=2){var S=p[x],y=p[x+1];h[S]=j(h,y)}}var _={componentDidMount:function(){this.__isMounted=!0}},I={componentWillUnmount:function(){this.__isMounted=!1}},P={replaceState:function(h,p){this.updater.enqueueReplaceState(this,h,p)},isMounted:function(){return!!this.__isMounted}},b=function(){};be(b.prototype,t.prototype,P);function w(h){var p=function(S,y,E){this.__reactAutoBindPairs.length&&v(this),this.props=S,this.context=y,this.refs=$s,this.updater=E||n,this.state=null;var D=this.getInitialState?this.getInitialState():null;V(typeof D=="object"&&!Array.isArray(D),"%s.getInitialState(): must return an object or null",p.displayName||"ReactCompositeComponent"),this.state=D};p.prototype=new b,p.prototype.constructor=p,p.prototype.__reactAutoBindPairs=[],o.forEach(c.bind(null,p)),c(p,_),c(p,h),c(p,I),p.getDefaultProps&&(p.defaultProps=p.getDefaultProps()),V(p.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var x in s)p.prototype[x]||(p.prototype[x]=null);return p}return w}var Us=Hs,we=u,Vs=Us;if(typeof we>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var Ys=new we.Component().updater,Me=Vs(we.Component,we.isValidElement,Ys),Gs=Date.now||Ks;function Ks(){return new Date().getTime()}var _t=Gs,qs=function(e,n,o){var s,a,i,l,c;n==null&&(n=100);function d(){var f=_t()-l;f<n&&f>0?s=setTimeout(d,n-f):(s=null,o||(c=e.apply(i,a),s||(i=a=null)))}return function(){i=this,a=arguments,l=_t();var m=o&&!s;return s||(s=setTimeout(d,n)),m&&(c=e.apply(i,a),i=a=null),c}},Xs=Js;function Js(t){for(var e=Qs(t),n=1732584193,o=-271733879,s=-1732584194,a=271733878,i=0;i<e.length;i+=16){var l=n,c=o,d=s,f=a;n=L(n,o,s,a,e[i+0],7,-680876936),a=L(a,n,o,s,e[i+1],12,-389564586),s=L(s,a,n,o,e[i+2],17,606105819),o=L(o,s,a,n,e[i+3],22,-1044525330),n=L(n,o,s,a,e[i+4],7,-176418897),a=L(a,n,o,s,e[i+5],12,1200080426),s=L(s,a,n,o,e[i+6],17,-1473231341),o=L(o,s,a,n,e[i+7],22,-45705983),n=L(n,o,s,a,e[i+8],7,1770035416),a=L(a,n,o,s,e[i+9],12,-1958414417),s=L(s,a,n,o,e[i+10],17,-42063),o=L(o,s,a,n,e[i+11],22,-1990404162),n=L(n,o,s,a,e[i+12],7,1804603682),a=L(a,n,o,s,e[i+13],12,-40341101),s=L(s,a,n,o,e[i+14],17,-1502002290),o=L(o,s,a,n,e[i+15],22,1236535329),n=z(n,o,s,a,e[i+1],5,-165796510),a=z(a,n,o,s,e[i+6],9,-1069501632),s=z(s,a,n,o,e[i+11],14,643717713),o=z(o,s,a,n,e[i+0],20,-373897302),n=z(n,o,s,a,e[i+5],5,-701558691),a=z(a,n,o,s,e[i+10],9,38016083),s=z(s,a,n,o,e[i+15],14,-660478335),o=z(o,s,a,n,e[i+4],20,-405537848),n=z(n,o,s,a,e[i+9],5,568446438),a=z(a,n,o,s,e[i+14],9,-1019803690),s=z(s,a,n,o,e[i+3],14,-187363961),o=z(o,s,a,n,e[i+8],20,1163531501),n=z(n,o,s,a,e[i+13],5,-1444681467),a=z(a,n,o,s,e[i+2],9,-51403784),s=z(s,a,n,o,e[i+7],14,1735328473),o=z(o,s,a,n,e[i+12],20,-1926607734),n=F(n,o,s,a,e[i+5],4,-378558),a=F(a,n,o,s,e[i+8],11,-2022574463),s=F(s,a,n,o,e[i+11],16,1839030562),o=F(o,s,a,n,e[i+14],23,-35309556),n=F(n,o,s,a,e[i+1],4,-1530992060),a=F(a,n,o,s,e[i+4],11,1272893353),s=F(s,a,n,o,e[i+7],16,-155497632),o=F(o,s,a,n,e[i+10],23,-1094730640),n=F(n,o,s,a,e[i+13],4,681279174),a=F(a,n,o,s,e[i+0],11,-358537222),s=F(s,a,n,o,e[i+3],16,-722521979),o=F(o,s,a,n,e[i+6],23,76029189),n=F(n,o,s,a,e[i+9],4,-640364487),a=F(a,n,o,s,e[i+12],11,-421815835),s=F(s,a,n,o,e[i+15],16,530742520),o=F(o,s,a,n,e[i+2],23,-995338651),n=B(n,o,s,a,e[i+0],6,-198630844),a=B(a,n,o,s,e[i+7],10,1126891415),s=B(s,a,n,o,e[i+14],15,-1416354905),o=B(o,s,a,n,e[i+5],21,-57434055),n=B(n,o,s,a,e[i+12],6,1700485571),a=B(a,n,o,s,e[i+3],10,-1894986606),s=B(s,a,n,o,e[i+10],15,-1051523),o=B(o,s,a,n,e[i+1],21,-2054922799),n=B(n,o,s,a,e[i+8],6,1873313359),a=B(a,n,o,s,e[i+15],10,-30611744),s=B(s,a,n,o,e[i+6],15,-1560198380),o=B(o,s,a,n,e[i+13],21,1309151649),n=B(n,o,s,a,e[i+4],6,-145523070),a=B(a,n,o,s,e[i+11],10,-1120210379),s=B(s,a,n,o,e[i+2],15,718787259),o=B(o,s,a,n,e[i+9],21,-343485551),n=X(n,l),o=X(o,c),s=X(s,d),a=X(a,f)}return ye(n)+ye(o)+ye(s)+ye(a)}var Pt="0123456789abcdef";function ct(t,e){var n=t&1|e&1,o=t>>>1|e>>>1;return o<<1|n}function Qe(t,e){var n=t&1^e&1,o=t>>>1^e>>>1;return o<<1|n}function Ie(t,e){var n=t&1&(e&1),o=t>>>1&e>>>1;return o<<1|n}function X(t,e){var n=(t&65535)+(e&65535),o=(t>>16)+(e>>16)+(n>>16);return o<<16|n&65535}function ye(t){var e="",n;for(n=0;n<=3;n++)e+=Pt.charAt(t>>n*8+4&15)+Pt.charAt(t>>n*8&15);return e}function Qs(t){var e=(t.length+8>>6)+1,n=new Array(e*16),o;for(o=0;o<e*16;o++)n[o]=0;for(o=0;o<t.length;o++)n[o>>2]|=t.charCodeAt(o)<<(t.length*8+o)%4*8;n[o>>2]|=128<<(t.length*8+o)%4*8;var s=t.length*8;return n[e*16-2]=s&255,n[e*16-2]|=(s>>>8&255)<<8,n[e*16-2]|=(s>>>16&255)<<16,n[e*16-2]|=(s>>>24&255)<<24,n}function Zs(t,e){return t<<e|t>>>32-e}function Ne(t,e,n,o,s,a){return X(Zs(X(X(e,t),X(o,a)),s),n)}function L(t,e,n,o,s,a,i){return Ne(ct(Ie(e,n),Ie(~e,o)),t,e,s,a,i)}function z(t,e,n,o,s,a,i){return Ne(ct(Ie(e,o),Ie(n,~o)),t,e,s,a,i)}function F(t,e,n,o,s,a,i){return Ne(Qe(Qe(e,n),o),t,e,s,a,i)}function B(t,e,n,o,s,a,i){return Ne(Qe(n,ct(e,~o)),t,e,s,a,i)}var er=Math.ceil(Math.random()*10),tr=function(){return++er},dt=function(t){return Object.prototype.toString.call(t).slice(8,-1)},nr=dt;function or(t){var e=nr(t);return e!=="Object"&&e!=="Array"}var Tn=or,sr=u,rr=Me,je=sr.createElement,ar=rr({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(t){return t.highlight!==this.props.highlight},render:function(){var t=this.props,e=t.string.search(t.highlight);if(!t.highlight||e===-1)return je("span",null,t.string);var n=t.highlight.source.length,o=t.string.substr(e,n);return je("span",null,t.string.split(t.highlight).map(function(s,a){return je("span",{key:a},a>0?je("span",{className:"json-inspector__hl"},o):null,s)}))}}),ir=u,lr=Me,cr=Xs,dr=tr,Mn=dt,_e=Tn,ur=ar,U=ir.createElement,pr=".root.",Nn=lr({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var t="id_"+dr(),e=this.props,n={path:this.keypath(),key:e.label.toString(),value:e.data},o=this._onClick.bind(this,n);return U("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},U("input",{className:"json-inspector__radio",type:"radio",name:e.id,id:t,tabIndex:-1}),U("label",{className:"json-inspector__line",htmlFor:t,onClick:o},U("div",{className:"json-inspector__flatpath"},n.path),U("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var t=this.data(),e=Mn(t);switch(e){case"Array":var n=t.length;return U("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[…] ":"[] ")+fr(n));case"Object":var o=Object.keys(t).length;return U("span",{className:"json-inspector__value json-inspector__value_helper"},(o>0?"{…} ":"{} ")+hr(o));default:return U("span",{className:"json-inspector__value json-inspector__value_"+e.toLowerCase()},this.format(String(t)),this.renderInteractiveLabel(t,!1))}},renderChildren:function(){var t=this.props,e=this._rootPath(),n=this.data();return this.state.expanded&&!_e(n)?Object.keys(n).map(function(o){var s=n[o],a=!this.state.original||(t.verboseShowOriginal?t.query:!1);return U(Nn,{data:s,label:o,prefix:e,onClick:t.onClick,id:t.id,query:t.query,getOriginal:a?t.getOriginal:null,key:mr(o,s),isExpanded:t.isExpanded,interactiveLabel:t.interactiveLabel,verboseShowOriginal:t.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var t=this.props;return _e(t.data)||this.state.original||!t.getOriginal||!t.query||Fe(this.keypath(),t.query)?null:U("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(t,e){return typeof this.props.interactiveLabel=="function"?U(this.props.interactiveLabel,{value:String(t),originalValue:t,isKey:e,keypath:this.keypath()}):null},componentWillReceiveProps:function(t){t.query&&this.setState({expanded:!Fe(t.label,t.query)}),this.props.query&&!t.query&&this.setState({expanded:this._isInitiallyExpanded(t)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(pr.length)},data:function(){return this.state.original||this.props.data},format:function(t){return U(ur,{string:t,highlight:this.props.query})},getClassName:function(){var t="json-inspector__leaf";return this.props.root&&(t+=" json-inspector__leaf_root"),this.state.expanded&&(t+=" json-inspector__leaf_expanded"),_e(this.props.data)||(t+=" json-inspector__leaf_composite"),t},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(t,e){this.toggle(),this.props.onClick(t),e.stopPropagation()},_onShowOriginalClick:function(t){this.setState({original:this.props.getOriginal(this.keypath())}),t.stopPropagation()},_isInitiallyExpanded:function(t){var e=this.keypath();return t.root?!0:t.query?!Fe(e,t.query)&&typeof t.getOriginal=="function":t.isExpanded(e,t.data)}});function fr(t){return t+(t===1?" item":" items")}function hr(t){return t+(t===1?" property":" properties")}function mr(t,e){if(_e(e)){var n=cr(String(e));return t+":"+n}else return t+"["+Mn(e)+"]"}function Fe(t,e){return t.indexOf(e)!==-1}var gr=Nn,kn=function(){},xr=u,vr=Me,br=xr.createElement,yr=kn,jr=vr({getDefaultProps:function(){return{onChange:yr}},render:function(){return br("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(t){this.props.onChange(t.target.value)}}),An=function(t){return Object.keys(t).length===0},_r=Object.keys,Pr=Tn,Er=An,wr=function(t,e){e||(e={cacheResults:!0});var n={};return function(o){if(!e.cacheResults)return Pe(t,o,e);var s;if(!n[o]){for(var a=o.length-1;a>0;a-=1)if(s=o.substr(0,a),n[s]){n[o]=Pe(n[s],o,e);break}}return n[o]||(n[o]=Pe(t,o,e)),n[o]}};function Pe(t,e,n){return _r(t).reduce(function(o,s){var a=t[s],i;return Pr(a)?(Be(e,s,n)||Be(e,a,n))&&(o[s]=a):Be(e,s,n)?o[s]=a:(i=Pe(a,e,n),Er(i)||Object.assign(o,Ir(s,i))),o},{})}function Be(t,e,n){if(e){var o=String(e),s=t;return n.ignoreCase&&(o=o.toLowerCase(),s=s.toLowerCase()),o.indexOf(s)!==-1}}function Ir(t,e){var n={};return n[t]=e,n}var Sr=dt,We=".";function Ze(t,e){var n=e.split(We),o=n.shift();if(!o)return t;var s=Sr(t);if(s==="Array"&&t[Et(o)])return Ze(t[Et(o)],n.join(We));if(s==="Object"&&t[o])return Ze(t[o],n.join(We))}function Et(t){return parseInt(t,10)}var Cr=Ze,Dr=u,Rr=Me,Or=qs,de=Dr.createElement,Tr=gr,Mr=jr,Nr=wr,kr=An,Ar=Cr,Lr=kn,zr=Rr({getDefaultProps:function(){return{data:null,search:Mr,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:Lr,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(t){return t.length>=2},isExpanded:function(t,e){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var t=this.props,e=this.state,n=e.query!==""&&t.validateQuery(e.query),o=n?e.filterer(e.query):t.data,s=n&&kr(o);return de("div",{className:"json-inspector "+t.className},this.renderToolbar(),s?de("div",{className:"json-inspector__not-found"},"Nothing found"):de(Tr,{data:o,onClick:t.onClick,id:t.id,getOriginal:this.getOriginal,query:n?new RegExp(e.query,t.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:t.isExpanded,interactiveLabel:t.interactiveLabel,verboseShowOriginal:t.verboseShowOriginal}))},renderToolbar:function(){var t=this.props.search;if(t)return de("div",{className:"json-inspector__toolbar"},de(t,{onChange:Or(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(t){this.setState({query:t})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(t){this.createFilterer(t.data,t.filterOptions);var e=typeof t.query=="string"&&t.query!==this.state.query;e&&this.setState({query:t.query})},shouldComponentUpdate:function(t,e){return t.query!==this.props.query||e.query!==this.state.query||t.data!==this.props.data||t.onClick!==this.props.onClick},createFilterer:function(t,e){this.setState({filterer:Nr(t,e)})},getOriginal:function(t){return Ar(this.props.data,t)}});const Fr=an(zr);var Br=function(t){if(!t)throw Error("hashlru must have a max value, of type number, greater than 0");var e=0,n=Object.create(null),o=Object.create(null);function s(a,i){n[a]=i,e++,e>=t&&(e=0,o=n,n=Object.create(null))}return{has:function(a){return n[a]!==void 0||o[a]!==void 0},remove:function(a){n[a]!==void 0&&(n[a]=void 0),o[a]!==void 0&&(o[a]=void 0)},get:function(a){var i=n[a];if(i!==void 0)return i;if((i=o[a])!==void 0)return s(a,i),i},set:function(a,i){n[a]!==void 0?n[a]=i:s(a,i)},clear:function(){n=Object.create(null),o=Object.create(null)}}};const Wr=an(Br),ut=t=>{const{actions:e,children:n,actionProps:o,onActionComplete:s}=t;return r.jsx(vn,{onReset:s,hooks:e,args:o,children:n})},$r=t=>{const{badges:e,children:n,badgeProps:o,...s}=t;return r.jsx(vn,{...s,hooks:e,args:o,children:n})},Hr=[];function Ur(t){const{children:e,flatIndex:n,index:o,params:s,payload:a,siblingIndex:i}=t,{navigate:l,navigateIntent:c}=Ce(),d=et(),{panes:f,expand:m}=rt(),g=u.useMemo(()=>(d==null?void 0:d.panes)||Hr,[d==null?void 0:d.panes]),j=u.useMemo(()=>f==null?void 0:f[f.length-2],[f]),v=o-1,_=u.useCallback(h=>{const p=g[v]||[],x=p[i],S=h(p,x),y=[...g.slice(0,v),S,...g.slice(v+1)],E={...d||{},panes:y};return setTimeout(()=>l(E),0),E},[v,l,g,d,i]),I=u.useCallback(h=>{_((p,x)=>[...p.slice(0,i),{...x,payload:h},...p.slice(i+1)])},[_,i]),P=u.useCallback(h=>{_((p,x)=>[...p.slice(0,i),{...x,params:h},...p.slice(i+1)])},[_,i]),b=u.useCallback(h=>{let{id:p,parentRefPath:x,type:S,template:y}=h;l({panes:[...g.slice(0,v+1),[{id:p,params:{template:y.id,parentRefPath:Lo(x),type:S},payload:y.params}]]})},[v,l,g]),w=u.useMemo(()=>({index:n,groupIndex:v,siblingIndex:i,payload:a,params:s,hasGroupSiblings:g[v]?g[v].length>1:!1,groupLength:g[v]?g[v].length:0,routerPanesState:g,ChildLink:zo,BackLink:Fo,ReferenceChildLink:Bo,handleEditReference:b,ParameterizedLink:Wo,replaceCurrent:function(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(()=>[{id:h.id||"",payload:h.payload,params:h.params||{}}])},closeCurrent:()=>{_((h,p)=>h.length>1?h.filter(x=>x!==p):h)},closeCurrentAndAfter:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)&&j&&m(j.element),l({panes:[...g.slice(0,v)]},{replace:!0})},duplicateCurrent:h=>{_((p,x)=>{const S={...x,payload:(h==null?void 0:h.payload)||x.payload,params:(h==null?void 0:h.params)||x.params};return[...p.slice(0,i),S,...p.slice(i)]})},setView:h=>{const p=bn(s,"view");return P(h?{...p,view:h}:p)},setParams:P,setPayload:I,navigateIntent:c}),[n,v,i,a,s,g,b,P,I,c,_,j,l,m]);return r.jsx($o.Provider,{value:w,children:e})}function Vr(t,e,n,o){var s,a;const i={flex:t.left.flex+t.right.flex,width:t.left.width+t.right.width},l=(s=e.minWidth)!=null?s:Je,c=(a=n.minWidth)!=null?a:Je,d=Math.min(e.maxWidth||1/0,i.width-c),f=Math.min(n.maxWidth||1/0,i.width-l);let m=l-t.left.width;const g=t.right.width-f;m<g&&(m=g);let j=t.right.width-c;const v=d-t.left.width;j>v&&(j=v);const _=Math.min(Math.max(o,m),j),I=t.left.width+_,P=t.right.width-_,b=I/i.width*i.flex,w=P/i.width*i.flex;return{leftFlex:b,leftW:I,rightFlex:w,rightW:P}}function Yr(t,e){const n=[];let o=e;for(;o!==t;){const s=o.parentElement;if(!s)return n;const i=Array.from(s.childNodes).indexOf(o);if(n.unshift(i),s===t)return n;o=s}return n}const wt=[];function Gr(t,e){const n=new WeakMap;for(const s of e)n.set(s,Yr(t,s));const o=(s,a)=>{const i=n.get(s)||wt,l=n.get(a)||wt,c=Math.max(i.length,l.length);for(let d=0;d<c;d+=1){const f=i[d]||-1,m=l[d]||-1;if(f!==m)return f-m}return 0};e.sort(o)}function Kr(){const t=[],e=[],n=new WeakMap,o=new Set,s={};let a=null,i=0,l=null,c=new Map,d=!1;function f(b){o.add(b),l===b&&(l=null),P()}function m(b){o.delete(b),l=b,P()}function g(b,w){return n.set(b,{...w,original:w}),e.push(b),a&&Gr(a,e),m(b),()=>{const h=e.indexOf(b);h>-1&&e.splice(h,1),n.delete(b),P()}}function j(b,w,h){var p,x,S,y;const E=e.indexOf(w),D=n.get(w);if(!D)return;const T=e[E+1],N=n.get(T);if(N){if(b==="start"&&(d=!0,s.left={element:w,flex:D.flex||1,width:w.offsetWidth},s.right={element:T,flex:N.flex||1,width:T.offsetWidth},P()),b==="move"&&s.left&&s.right){c=new Map;const{leftW:C,rightW:M,leftFlex:H,rightFlex:Y}=Vr(s,D,N,h);c.set(w,{flex:H,width:C}),c.set(T,{flex:Y,width:M}),P()}if(b==="end"){d=!1;const C=c.get(w),M=c.get(T);n.set(w,{...D,currentMinWidth:0,currentMaxWidth:(p=D.maxWidth)!=null?p:1/0,flex:(x=C==null?void 0:C.flex)!=null?x:D.flex}),n.set(T,{...N,currentMinWidth:0,currentMaxWidth:(S=D.maxWidth)!=null?S:1/0,flex:(y=M==null?void 0:M.flex)!=null?y:N.flex}),c=new Map,delete s.left,delete s.right,P()}}}function v(b){a=b}function _(b){i=b,P()}function I(b){return t.push(b),()=>{const w=t.push(b);w>-1&&t.splice(w,1)}}return{collapse:f,expand:m,mount:g,resize:j,setRootElement:v,setRootWidth:_,subscribe:I};function P(){var b,w,h,p;if(!i)return;const x=[];for(const C of e)C!==l&&x.unshift(C);l&&x.unshift(l);const S=new WeakMap,y=x.length,E=x[0],D=(y-1)*ze;let T=i-D;for(const C of x){const M=n.get(C);if(!M)continue;const H=M.currentMinWidth||M.minWidth||Je,Y=C===E,xe=o.has(C),G=H>T,Z=Y?!1:xe||G,q=c.get(C);S.set(C,{element:C,collapsed:Z,currentMinWidth:(b=q==null?void 0:q.width)!=null?b:M.currentMinWidth,currentMaxWidth:(w=q==null?void 0:q.width)!=null?w:M.currentMaxWidth,flex:(p=(h=q==null?void 0:q.flex)!=null?h:M.flex)!=null?p:1}),Z?T-=ze:T-=H-ze}const N=[];for(const C of e){const M=S.get(C);M&&N.push(M)}for(const C of t)C({expandedElement:l||e[e.length-1]||null,panes:N,resizing:d})}}function qr(t){const{children:e,minWidth:n,onCollapse:o,onExpand:s,...a}=t,i=u.useMemo(()=>Kr(),[]),[l,c]=u.useState(null),d=Oe(l),f=(d==null?void 0:d.width)||0,m=f===void 0||!n?void 0:f<n,[g,j]=u.useState({expandedElement:null,panes:[],resizing:!1});u.useEffect(()=>i.setRootElement(l),[i,l]),u.useEffect(()=>i.setRootWidth(f),[i,f]),u.useEffect(()=>i.subscribe(j),[i]),u.useEffect(()=>{m!==void 0&&(m&&o&&o(),!m&&s&&s())},[m,o,s]);const v=u.useMemo(()=>({collapse:i.collapse,collapsed:m,expand:i.expand,expandedElement:g.expandedElement,mount:i.mount,panes:g.panes,resize:i.resize,resizing:g.resizing}),[m,i,g.expandedElement,g.panes,g.resizing]);return r.jsx(ws.Provider,{value:v,children:r.jsx(Is,{"data-ui":"PaneLayout",...a,"data-collapsed":m?"":void 0,"data-resizing":g.resizing?"":void 0,"data-mounted":f?"":void 0,ref:c,children:e})})}function Xr(t){const{documentId:e,documentType:n,flex:o}=t,{collapsed:s}=nt(),{closeInspector:a,inspector:i}=A(),{features:l}=ne(),c=u.useCallback(()=>{i&&a(i.name)},[a,i]);if(s||!i)return null;const d=u.createElement(i.component,{onClose:c,documentId:e,documentType:n});return l.resizablePanes?r.jsx(es,{as:"aside","data-ui":"DocumentInspectorPanel",flex:o,maxWidth:ts,minWidth:Ke,children:d}):r.jsx(R,{as:"aside","data-ui":"DocumentInspectorPanel",flex:o,children:d})}var Jr=Object.defineProperty,Qr=(t,e,n)=>e in t?Jr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$e=(t,e,n)=>(Qr(t,typeof e!="symbol"?e+"":e,n),n);class re extends Error{constructor(e){let{message:n,context:o,helpId:s,cause:a}=e;super(n),$e(this,"cause"),$e(this,"context"),$e(this,"helpId"),this.context=o,this.helpId=s,this.cause=a}}const It=new WeakMap;function ke(t){const e=It.get(t);if(e)return e;const n=Ms();return It.set(t,n),n}const St=new WeakMap;function Ln(t,e){const n=St.get(t)||new Map;if(n){const a=n.get(e);if(a)return a}const o=t[e];if(typeof o!="function")throw new Error("Expected property `".concat(e,"` to be a function but got ").concat(typeof o," instead."));const s=o.bind(t);return n.set(e,s),St.set(t,n),s}const Zr=t=>!!t&&typeof(t==null?void 0:t.then)=="function",ea=t=>fe(t)?typeof t.serialize=="function":!1,ta=t=>(e,n,o)=>{try{return t(e,n,o)}catch(s){throw s instanceof re?s:new re({message:typeof(s==null?void 0:s.message)=="string"?s.message:"",context:n,cause:s})}},na=t=>function(){return t(...arguments).pipe(Ns(1),ks())};function zn(t){const e=ta(na(t((n,o,s)=>{if(!n)throw new re({message:"Pane returned no child",context:o,helpId:"structure-item-returned-no-child"});return Zr(n)||Ss(n)?Cs(n).pipe(it(a=>e(a,o,s))):ea(n)?e(n.serialize(o),o,s):typeof n=="function"?e(n(o.id,o),o,s):te(n)})));return e}async function oa(t){const e=new Map,o=zn(c=>(d,f,m)=>{const g=d&&"".concat(ke(d),"-").concat(f.path.join("__")),j=g&&e.get(g);if(j)return j;const v=c(d,f,m);return g&&e.set(g,v),v}),s=[[{id:"__edit__".concat(t.params.id),params:{...bn(t.params,["id"]),type:t.params.type},payload:t.payload}]];async function a(c){let{currentId:d,flatIndex:f,intent:m,params:g,parent:j,path:v,payload:_,unresolvedPane:I,levelIndex:P,structureContext:b}=c;var w;if(!I)return[];const{id:h,type:p,...x}=g,y=await On(o(I,{id:d,splitIndex:0,parent:j,path:v,index:f,params:{},payload:void 0,structureContext:b},f));return y.type==="document"&&y.id===h?[{panes:[...v.slice(0,v.length-1).map(E=>[{id:E}]),[{id:h,params:x,payload:_}]],depthIndex:v.length,levelIndex:P}]:(w=y.canHandleIntent)!=null&&w.call(y,m,g,{pane:y,index:f})||y.type==="documentList"&&y.schemaTypeName===p&&y.options.filter==="_type == $type"?[{panes:[...v.map(E=>[{id:E}]),[{id:g.id,params:x,payload:_}]],depthIndex:v.length,levelIndex:P}]:y.type==="list"&&y.child&&y.items?(await Promise.all(y.items.map((E,D)=>E.type==="divider"?Promise.resolve([]):a({currentId:E._id||E.id,flatIndex:f+1,intent:m,params:g,parent:y,path:[...v,E.id],payload:_,unresolvedPane:typeof y.child=="function"?Ln(y,"child"):y.child,levelIndex:D,structureContext:b})))).flat():[]}const l=(await a({currentId:"root",flatIndex:0,levelIndex:0,intent:t.intent,params:t.params,parent:null,path:[],payload:t.payload,unresolvedPane:t.rootPaneNode,structureContext:t.structureContext})).sort((c,d)=>c.depthIndex===d.depthIndex?c.levelIndex-d.levelIndex:c.depthIndex-d.depthIndex)[0];return l?l.panes:s}const sa=(t,e)=>{const n=t.replace(/^__edit__/,""),{params:o,payload:s,structureContext:{resolveDocumentNode:a}}=e,{type:i,template:l}=o;if(!i)throw new Error("Document type for document with ID ".concat(n," was not provided in the router params."));let c=a({schemaType:i,documentId:n}).id("editor");return l&&(c=c.initialValueTemplate(l,s)),c.serialize()};function ra(t){var e,n;return"contextHash(".concat(JSON.stringify({id:t.id,parentId:parent&&ke(parent),path:t.path,index:t.index,splitIndex:t.splitIndex,serializeOptionsIndex:(e=t.serializeOptions)==null?void 0:e.index,serializeOptionsPath:(n=t.serializeOptions)==null?void 0:n.path}),")")}const Ct=t=>{const e={type:t.type,id:t.routerPaneSibling.id,params:t.routerPaneSibling.params||{},payload:t.routerPaneSibling.payload||null,flatIndex:t.flatIndex,groupIndex:t.groupIndex,siblingIndex:t.siblingIndex,path:t.path,paneNode:t.type==="resolvedMeta"?ke(t.paneNode):null};return"metaHash(".concat(JSON.stringify(e),")")};function Ee(t){let{unresolvedPane:e,flattenedRouterPanes:n,parent:o,path:s,resolvePane:a,structureContext:i}=t;const[l,...c]=n,d=c[0],f={id:l.routerPaneSibling.id,splitIndex:l.siblingIndex,parent:o,path:[...s,l.routerPaneSibling.id],index:l.flatIndex,params:l.routerPaneSibling.params||{},payload:l.routerPaneSibling.payload,structureContext:i};try{return a(e,f,l.flatIndex).pipe(it(m=>{const g={type:"resolvedMeta",...l,paneNode:m,path:f.path},j=c.map((_,I)=>({type:"loading",path:[...f.path,...c.slice(I).map((w,h)=>"[".concat(_.flatIndex+h,"]"))],paneNode:null,..._}));if(!c.length)return te([g]);let v;return d!=null&&d.routerPaneSibling.id.startsWith("__edit__")?v=Ee({unresolvedPane:sa,flattenedRouterPanes:c,parent:o,path:f.path,resolvePane:a,structureContext:i}):l.groupIndex===(d==null?void 0:d.groupIndex)?v=Ee({unresolvedPane:e,flattenedRouterPanes:c,parent:o,path:s,resolvePane:a,structureContext:i}):v=Ee({unresolvedPane:typeof m.child=="function"?Ln(m,"child"):m.child,flattenedRouterPanes:c,parent:m,path:f.path,resolvePane:a,structureContext:i}),yn(te([g,...j]),v.pipe(ee(_=>[g,..._])))}))}catch(m){if(m instanceof re&&(m.context&&console.warn("Pane resolution error at index ".concat(m.context.index).concat(m.context.splitIndex>0?" for split pane index ".concat(m.context.splitIndex):"",": ").concat(m.message).concat(m.helpId?" - see ".concat(wn(m.helpId)):""),m),m.helpId==="structure-item-returned-no-child"))return te([]);throw m}}function aa(t){let{routerPanesStream:e,rootPaneNode:n,initialCacheState:o={cacheKeysByFlatIndex:[],flattenedRouterPanes:[],resolvedPaneCache:new Map,resolvePane:()=>Ds},structureContext:s}=t;return e.pipe(ee(i=>[[{id:"root"}],...i]),ee(i=>i.flatMap((c,d)=>c.map((f,m)=>({routerPaneSibling:f,groupIndex:d,siblingIndex:m}))).map((c,d)=>({...c,flatIndex:d}))),ns([]),As(),ee(i=>{let[l,c]=i;for(let d=0;d<c.length;d++){const f=l[d],m=c[d];if(!Ue(f,m))return{flattenedRouterPanes:c,diffIndex:d}}return{flattenedRouterPanes:c,diffIndex:c.length}}),xt((i,l)=>{const{cacheKeysByFlatIndex:c,resolvedPaneCache:d}=i,{flattenedRouterPanes:f,diffIndex:m}=l,g=c.slice(0,m+1),j=c.slice(m+1),v=new Set(g.flatMap(P=>Array.from(P))),_=j.flatMap(P=>Array.from(P)).filter(P=>!v.has(P));for(const P of _)d.delete(P);return{flattenedRouterPanes:f,cacheKeysByFlatIndex:c,resolvedPaneCache:d,resolvePane:zn(P=>(b,w,h)=>{const p=b&&"".concat(ke(b),"-").concat(ra(w)),x=p&&d.get(p);if(x)return x;const S=P(b,w,h);if(!p)return S;const y=c[h]||new Set;return y.add(p),c[h]=y,d.set(p,S),S})}},o),it(i=>{let{flattenedRouterPanes:l,resolvePane:c}=i;return Ee({unresolvedPane:n,flattenedRouterPanes:l,parent:null,path:[],resolvePane:c,structureContext:s})})).pipe(xt((i,l)=>l.map((c,d)=>{const f=i[d];return!f||c.type!=="loading"?c:f.routerPaneSibling.id===c.routerPaneSibling.id?f:c}),[]),os((i,l)=>{if(i.length!==l.length)return!1;for(let c=0;c<l.length;c++){const d=i[c],f=l[c];if(Ct(d)!==Ct(f))return!1}return!0}))}function ia(){const t=u.useMemo(()=>new ss(1),[]),e=u.useMemo(()=>t.asObservable().pipe(ee(o=>(o==null?void 0:o.panes)||[])),[t]),{state:n}=Ce();return u.useEffect(()=>{t.next(n)},[n,t]),e}function la(){const[t,e]=u.useState();if(t)throw t;const{structureContext:n,rootPaneNode:o}=ne(),[s,a]=u.useState({paneDataItems:[],resolvedPanes:[],routerPanes:[]}),i=ia();return u.useEffect(()=>{const c=aa({rootPaneNode:o,routerPanesStream:i,structureContext:n}).pipe(ee(d=>{const f=d.reduce((j,v)=>{const _=j[v.groupIndex]||[];return _[v.siblingIndex]=v.routerPaneSibling,j[v.groupIndex]=_,j},[]),m=f.length,g=d.map(j=>{var v;const{groupIndex:_,flatIndex:I,siblingIndex:P,routerPaneSibling:b,path:w}=j,h=b.id,p=f[_+1];return{active:_===m-2,childItemId:(v=p==null?void 0:p[0].id)!=null?v:null,index:I,itemId:b.id,groupIndex:_,key:"".concat(j.type==="loading"?"unknown":j.paneNode.id,"-").concat(h,"-").concat(P),pane:j.type==="loading"?ue:j.paneNode,params:b.params||{},path:w.join(";"),payload:b.payload,selected:I===d.length-1,siblingIndex:P}});return{paneDataItems:g,routerPanes:f,resolvedPanes:g.map(j=>j.pane)}})).subscribe({next:d=>a(d),error:d=>e(d)});return()=>c.unsubscribe()},[o,i,n]),s}async function ca(t,e,n){if(e&&n)return{id:e,type:n};if(!e&&n)return{id:rs(),type:n};if(e&&!n){const o=await On(t.resolveTypeForDocument(e));return{id:e,type:o}}throw new re({message:"Neither document `id` or `type` was provided when trying to resolve intent."})}const da={},ua=u.memo(function(){const{navigate:e}=Ce(),n=et(u.useCallback(c=>{const d=typeof c.intent=="string"?c.intent:void 0;return d?{intent:d,params:fe(c.params)?c.params:da,payload:c.payload}:void 0},[])),{rootPaneNode:o,structureContext:s}=ne(),a=ln(),[i,l]=u.useState(null);if(i)throw i;return u.useEffect(()=>{if(n){const{intent:c,params:d,payload:f}=n;let m=!1;async function g(){const{id:j,type:v}=await ca(a,typeof d.id=="string"?d.id:void 0,typeof d.type=="string"?d.type:void 0);if(m)return;const _=await oa({intent:c,params:{...d,id:j,type:v},payload:f,rootPaneNode:o,structureContext:s});m||e({panes:_},{replace:!0})}return g().catch(l),()=>{m=!0}}},[a,n,e,o,s]),null});var Dt=Object.freeze,pa=Object.defineProperty,fa=(t,e)=>Dt(pa(t,"raw",{value:Dt(e||t.slice())})),Rt;const ha=W.span(Rt||(Rt=fa([`
  &:not(:last-child)::after {
    content: ' ➝ ';
    opacity: 0.5;
  }
`])));function ma(t){return t.replace(/\(\.\.\.\)\./g,`(...)
  .`).replace(/__WEBPACK_IMPORTED_MODULE_\d+_+/g,"").replace(/___default\./g,".").replace(new RegExp(" \\(https?:\\/\\/".concat(window.location.host),"g")," (")}function ga(t){let{error:e}=t;if(!(e instanceof re))throw e;const{cause:n}=e,o=(n==null?void 0:n.stack)||e.stack,s=o&&!(n instanceof Le)&&!e.message.includes("Module build failed:"),a=n instanceof Le?n.path:[],i=n instanceof Le&&n.helpId||e.helpId,l=u.useCallback(()=>{window.location.reload()},[]);return r.jsx(Q,{height:"fill",overflow:"auto",padding:4,sizing:"border",tone:"critical",children:r.jsxs(ae,{children:[r.jsx(as,{as:"h2",children:"Encountered an error while reading structure"}),r.jsxs(Q,{marginTop:4,padding:4,radius:2,overflow:"auto",shadow:1,tone:"inherit",children:[a.length>0&&r.jsxs(J,{space:2,children:[r.jsx(vt,{children:"Structure path"}),r.jsx(qe,{children:a.slice(1).map((c,d)=>r.jsx(ha,{children:c},"".concat(c,"-").concat(d)))})]}),r.jsxs(J,{marginTop:4,space:2,children:[r.jsx(vt,{children:"Error"}),r.jsx(qe,{children:s?ma(o):e.message})]}),i&&r.jsx(R,{marginTop:4,children:r.jsx(O,{children:r.jsx("a",{href:wn(i),rel:"noopener noreferrer",target:"_blank",children:"View documentation"})})}),r.jsx(R,{marginTop:4,children:r.jsx($,{text:"Reload",icon:un,tone:"primary",onClick:l})})]})]})})}function xa(t){const{isSelected:e,pane:n,paneKey:o}=t,s=fe(n)&&n.type||null;return r.jsxs(De,{id:o,selected:e,children:[r.jsx(ot,{title:"Unknown pane type"}),r.jsx(Re,{children:r.jsx(R,{padding:4,children:typeof s=="string"?r.jsxs(O,{as:"p",muted:!0,children:["Structure item of type ",r.jsx("code",{children:s})," is not a known entity."]}):r.jsxs(O,{as:"p",muted:!0,children:["Structure item is missing required ",r.jsx("code",{children:"type"})," property."]})})})]})}function va(t){const e=[{ms:300,message:"Loading…"},{ms:5e3,message:"Still loading…"}],n=te(null);return is(...e.map(o=>{let{ms:s,message:a}=o;return n.pipe(ls(a),cs(s))}))}var Ot=Object.freeze,ba=Object.defineProperty,ya=(t,e)=>Ot(ba(t,"raw",{value:Ot(e||t.slice())})),Tt;const ja="Loading…",_a=W(k)(Tt||(Tt=ya([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),pe=u.memo(t=>{const{delay:e=300,flex:n,message:o=va,minWidth:s,paneKey:a,path:i,selected:l,title:c,tone:d}=t,f=u.useMemo(()=>typeof o=="function"?o(i?i.split(";"):[]):o,[o,i]),[m,g]=u.useState(()=>typeof f=="string"?f:ja);u.useEffect(()=>{if(typeof f!="object"||typeof f.subscribe=="function")return;const b=f.subscribe(g);return()=>b.unsubscribe()},[f]);const[j,v]=u.useState(null),[_,I]=u.useState(!1);u.useEffect(()=>{if(j)return no(()=>I(!0))},[j]);const P=r.jsxs(_a,{align:"center","data-mounted":_?"":void 0,direction:"column",height:"fill",justify:"center",ref:v,children:[r.jsx(pn,{muted:!0}),(c||m)&&r.jsx(R,{marginTop:3,children:r.jsx(O,{align:"center",muted:!0,size:1,children:c||m})})]});return r.jsx(De,{flex:n,id:a,minWidth:s,selected:l,tone:d,children:r.jsx(Re,{children:P})})});pe.displayName="LoadingPane";const Pa={component:u.lazy(()=>ve(()=>import("./index-44a61c16-5f0eda19.js"),["static/index-44a61c16-5f0eda19.js","static/sanity-1823015d.js"])),document:u.lazy(()=>ve(()=>import("./index-27f558d4-1e98f6f1.js"),["static/index-27f558d4-1e98f6f1.js","static/sanity-1823015d.js"])),documentList:u.lazy(()=>ve(()=>import("./index-693f2511-b2e75024.js"),["static/index-693f2511-b2e75024.js","static/sanity-1823015d.js","static/PaneItem-00b758b7-3ea55d91.js"])),list:u.lazy(()=>ve(()=>import("./index-234b0727-4793a3f9.js"),["static/index-234b0727-4793a3f9.js","static/sanity-1823015d.js","static/PaneItem-00b758b7-3ea55d91.js"]))},Ea=u.memo(function(e){const{active:n,childItemId:o,groupIndex:s,index:a,itemId:i,pane:l,paneKey:c,params:d,payload:f,path:m,selected:g,siblingIndex:j}=e,v=Pa[l.type]||xa;return r.jsx(Ur,{flatIndex:a,index:s,params:d,payload:f,siblingIndex:j,children:r.jsx(u.Suspense,{fallback:r.jsx(pe,{paneKey:c,path:m,selected:g}),children:r.jsx(v,{childItemId:o||"",index:a,itemId:i,isActive:n,isSelected:g,paneKey:c,pane:l})})})},(t,e)=>{let{params:n={},payload:o=null,...s}=t,{params:a={},payload:i=null,...l}=e;if(!Ue(n,a)||!Ue(o,i))return!1;const c=new Set([...Object.keys(s),...Object.keys(l)]);for(const d of c)if(s[d]!==l[d])return!1;return!0});function Fn(t){const{children:e,currentMinWidth:n,flex:o,minWidth:s,paneKey:a,title:i="Error",tone:l="critical"}=t;return r.jsxs(De,{currentMinWidth:n,flex:o,id:a,minWidth:s,tone:l,children:[r.jsx(ot,{title:i}),r.jsx(Re,{overflow:"auto",children:r.jsx(R,{paddingX:4,paddingY:5,children:e})})]})}function wa(t){return t==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:t==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(t)}function Ia(t){return t==="publish"?"The document was published":t==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":t==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":t==="delete"?"The document was successfully deleted":"Successfully performed ".concat(t," on document")}const Sa=["patch","commit"],Ca=u.memo(function(){const{push:e}=tt(),{documentId:n,documentType:o}=A(),s=oo(n,o),a=u.useRef(s),i=he();return u.useEffect(()=>{if(!s||s===a.current)return;let l;return s.type==="error"&&e({closable:!0,duration:3e4,status:"error",title:wa(s.op),description:r.jsxs("details",{children:[r.jsx("summary",{children:"Details"}),s.error.message]})}),s.type==="success"&&!Sa.includes(s.op)&&e({closable:!0,status:"success",title:Ia(s.op)}),s.type==="success"&&s.op==="delete"&&(l=setTimeout(()=>i.closeCurrentAndAfter(),0)),a.current=s,()=>clearTimeout(l)},[s,i,e]),null});function Da(t,e,n){const o=so(),[s,a]=u.useState(n),i=u.useMemo(()=>o.forNamespace("desk-tool"),[o]),l=u.useMemo(()=>t?i.forNamespace(t).forKey(e):i.forKey(e),[i,t,e]);u.useEffect(()=>{const d=l.listen(n).subscribe({next:a});return()=>d==null?void 0:d.unsubscribe()},[n,e,t,l]);const c=u.useCallback(d=>{a(d),l.set(d)},[l]);return u.useMemo(()=>[s,c],[c,s])}const oe={id:"parsed",title:"Parsed"},se={id:"raw",title:"Raw JSON"},Ra=[oe,se],Se=Wr(1e3);function Bn(t,e){const n=Se.get(t);return n===void 0?(Se.set(t,Array.isArray(e)||fe(e)),Bn(t,e)):n}function Oa(t){const{path:e}=t,n=Se.get(e);n!==void 0&&Se.set(e,!n)}function Wn(t){const e=window.getSelection();if(e){const n=document.createRange();e.removeAllRanges(),n.selectNodeContents(t),e.addRange(n)}}function Mt(t){Wn(t.currentTarget)}function Ta(t){t.keyCode===65&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),Wn(t.currentTarget))}function Ma(t){return fe(t)&&bt(t._id)&&bt(t._type)}var Nt=Object.freeze,Na=Object.defineProperty,ka=(t,e)=>Nt(Na(t,"raw",{value:Nt(e||t.slice())})),kt;const Aa=W.div(t=>{let{theme:e}=t;const{color:n,fonts:o,space:s}=e.sanity;return cn(kt||(kt=ka([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),o.code.family,o.code.sizes[2].fontSize,o.code.sizes[2].lineHeight,ce(s[4]),ce(s[3]),ce(s[4]),o.code.sizes[2].fontSize,o.code.sizes[2].lineHeight,o.code.sizes[2].fontSize,o.code.sizes[2].lineHeight,ce(s[4]/2),n.syntax.property,n.syntax.constant,ce(s[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function La(t){const{onChange:e,query:n}=t,o=u.useCallback(s=>e(s.target.value),[e]);return r.jsx(Rs,{icon:Os,onChange:o,placeholder:"Search",radius:2,value:n||""})}function za(t){const{value:e}=t,{onInspectClose:n,paneKey:o}=A(),s="".concat(o,"_inspect_"),[a,i]=Da("desk-tool","inspect-view-preferred-view-mode-".concat(o),"parsed"),l=Ra.find(f=>f.id===a),c=u.useCallback(()=>{i(oe.id)},[i]),d=u.useCallback(()=>{i(se.id)},[i]);return r.jsx(lt,{id:"".concat(s,"dialog"),header:Ma(e)?r.jsxs(r.Fragment,{children:["Inspecting"," ",r.jsx("em",{children:r.jsx(ds,{document:e})})]}):r.jsx("em",{children:"No value"}),onClose:n,onClickOutside:n,width:3,children:r.jsxs(k,{direction:"column",height:"fill",children:[r.jsx(Q,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:r.jsxs(jn,{space:1,children:[r.jsx(Ge,{"aria-controls":"".concat(s,"tabpanel"),fontSize:1,id:"".concat(s,"tab-").concat(oe.id),label:oe.title,onClick:c,selected:l===oe}),r.jsx(Ge,{"aria-controls":"".concat(s,"tabpanel"),fontSize:1,id:"".concat(s,"tab-").concat(se.id),label:se.title,onClick:d,selected:l===se})]})}),r.jsxs(us,{"aria-labelledby":"".concat(s,"tab-").concat(a),flex:1,id:"".concat(s,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[l===oe&&r.jsx(Aa,{children:r.jsx(Fr,{data:e,isExpanded:Bn,onClick:Oa,search:La})}),l===se&&r.jsx(qe,{language:"json",tabIndex:0,onKeyDown:Ta,onDoubleClick:Mt,onFocus:Mt,children:JSON.stringify(e,null,2)})]})]})})}var At=Object.freeze,Fa=Object.defineProperty,Ba=(t,e)=>At(Fa(t,"raw",{value:At(e||t.slice())})),Lt;const Wa=W(Q)(Lt||(Lt=Ba([`
  position: relative;
  z-index: 50;
`])));function $a(t){let{revisionId:e}=t;const{documentId:n,documentType:o}=A(),{restore:s}=ps(n,o),{navigateIntent:a}=Ce(),i=u.useCallback(()=>{e&&(s.execute(e),a("edit",{id:n,type:o}))},[n,o,a,s,e]);return r.jsx(Wa,{"data-testid":"deleted-document-banner",shadow:1,tone:"transparent",children:r.jsx(ae,{paddingX:4,paddingY:e?2:3,sizing:"border",width:1,children:r.jsxs(k,{align:"center",children:[r.jsx(O,{size:1,children:r.jsx(In,{})}),r.jsxs(k,{align:"center",gap:2,flex:1,marginLeft:3,children:[r.jsx(O,{size:1,children:"This document has been deleted."}),e&&r.jsx($,{fontSize:1,padding:2,mode:"bleed",tone:"primary",onClick:i,text:"Restore most recent version"})]})]})})})}var zt=Object.freeze,Ha=Object.defineProperty,$n=(t,e)=>zt(Ha(t,"raw",{value:zt(e||t.slice())})),Ft,Bt;const Ua=W(Q)(Ft||(Ft=$n([`
  position: relative;
  z-index: 50;
`]))),Wt=W(O)(Bt||(Bt=$n([`
  & > * {
    overflow: hidden;
    overflow: clip;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),Hn=u.memo(()=>{var t,e,n,o,s,a;const i=ro(),{params:l,groupIndex:c,routerPanesState:d,replaceCurrent:f,BackLink:m}=he(),g=(t=d[c])==null?void 0:t[0].id,j=d[c-1],v=j==null?void 0:j[0],_=v==null?void 0:v.id,I=!!((e=v==null?void 0:v.params)!=null&&e.rev),P=u.useMemo(()=>(l==null?void 0:l.parentRefPath)&&Ve(l.parentRefPath)||null,[l==null?void 0:l.parentRefPath]),b=ao(()=>{const p=P==null?void 0:P[0];if(!_||!p||!P)return te({loading:!1});const x=Ho(_),S=Ve(p),y=S.findIndex(E=>typeof E=="object"&&"_key"in E);return yn(te({loading:!0}),i.unstable_observePathsDocumentPair(x,y===-1?S:S.slice(0,y)).pipe(Uo(750),ee(E=>{let{draft:D,published:T}=E;var N;return{loading:!1,result:{availability:{draft:D.availability,published:T.availability},refValue:(N=fs(D.snapshot||T.snapshot,P))==null?void 0:N._ref}}})))},[i,_,P],{loading:!0}),w=u.useCallback(()=>{var p;b.loading||(p=b.result)!=null&&p.refValue&&f({id:b.result.refValue,params:l})},[b.loading,b.result,f,l]);return!_||!P||I||b.loading||!((n=b.result)!=null&&n.availability.draft.available)&&!((o=b.result)!=null&&o.availability.published.available)||((s=b.result)==null?void 0:s.refValue)===g?null:r.jsx(Ua,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:r.jsx(ae,{paddingX:4,paddingY:2,sizing:"border",width:1,children:r.jsxs(k,{align:"center",children:[r.jsx(O,{size:1,children:r.jsx(dn,{})}),(a=b.result)!=null&&a.refValue?r.jsxs(r.Fragment,{children:[r.jsx(R,{flex:1,marginLeft:3,children:r.jsx(Wt,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),r.jsx(R,{marginLeft:3,children:r.jsx($,{onClick:w,icon:un,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):r.jsxs(r.Fragment,{children:[r.jsx(R,{flex:1,marginLeft:3,children:r.jsx(Wt,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),r.jsx(R,{marginLeft:3,children:r.jsx($,{as:m,icon:Ye,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});Hn.displayName="ReferenceChangedBanner";var $t=Object.freeze,Va=Object.defineProperty,Ya=(t,e)=>$t(Va(t,"raw",{value:$t(e||t.slice())})),Ht;const Ga=W(Q)(Ht||(Ht=Ya([`
  position: relative;
  z-index: 50;
`])));function Ka(t){let{granted:e,requiredPermission:n}=t;var o,s;const a=hs(),i=((o=a==null?void 0:a.roles)==null?void 0:o.length)!==1,l=qa(((s=a==null?void 0:a.roles)==null?void 0:s.map(c=>r.jsx("code",{children:c.title},c.name)))||[],", ");return e?null:r.jsx(Ga,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:r.jsx(ae,{paddingX:4,paddingY:3,sizing:"border",width:1,children:r.jsxs(k,{align:"flex-start",children:[r.jsx(O,{size:1,children:r.jsx(In,{})}),r.jsx(R,{flex:1,marginLeft:3,children:r.jsxs(O,{size:1,children:["Your role",i&&"s"," ",l," ",i?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function qa(t,e){return t.reduce((n,o)=>n===null?[o]:n.concat([e,o]),null)}function Xa(t){const e=u.useRef();return u.useEffect(()=>{e.current=t},[t]),e.current}const Ja=1e3*60*60*24*24;function Qa(t){const e=tt(),n=Xa(t.enabled);u.useEffect(()=>{!n&&t.enabled&&e.push({...t,duration:Ja}),n&&!t.enabled&&e.push({...t,duration:.01})},[t,e,n])}const Za=t=>t.preventDefault(),ei=u.forwardRef(function(e,n){var o;const{hidden:s,margins:a}=e,{collapsedFieldSets:i,collapsedPaths:l,displayed:c,editState:d,documentId:f,documentType:m,fieldActions:g,onChange:j,validation:v,ready:_,formState:I,onFocus:P,onBlur:b,onSetCollapsedPath:w,onPathOpen:h,onSetCollapsedFieldSet:p,onSetActiveFieldGroup:x}=A(),S=ln(),y=io(f),E=u.useMemo(()=>lo(),[]),D=(o=d==null?void 0:d.transactionSyncLock)==null?void 0:o.enabled;Qa({id:"sync-lock-".concat(f),status:"warning",enabled:D,title:"Syncing document…",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),u.useEffect(()=>{const H=S.pair.documentEvents(f,m).pipe(co(Y=>{Y.type==="mutation"&&E.publish(ti(Y)),Y.type==="rebase"&&E.publish(ni(Y))})).subscribe();return()=>{H.unsubscribe()}},[f,S,m,E]);const T=!!(c!=null&&c._rev);u.useEffect(()=>{T&&E.publish({type:"mutation",patches:[],snapshot:c})},[T]);const[N,C]=u.useState(null);u.useEffect(()=>{_&&!(I!=null&&I.focusPath.length)&&N&&uo(N)},[_]);const M=u.useCallback(H=>{C(H),typeof n=="function"?n(H):n&&(n.current=H)},[n]);return r.jsx(ae,{hidden:s,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:r.jsx(po,{margins:a,children:r.jsx(R,{as:"form",onSubmit:Za,ref:M,children:_?I===null?r.jsx(R,{padding:2,children:r.jsx(O,{children:"This form is hidden"})}):r.jsx(fo,{__internal_fieldActions:g,__internal_patchChannel:E,collapsedFieldSets:i,collapsedPaths:l,focusPath:I.focusPath,changed:I.changed,focused:I.focused,groups:I.groups,id:"root",members:I.members,onChange:j,onFieldGroupSelect:x,onPathBlur:b,onPathFocus:P,onPathOpen:h,onSetFieldSetCollapsed:p,onSetPathCollapsed:w,presence:y,readOnly:I.readOnly,schemaType:I.schemaType,validation:v,value:I.value}):r.jsx(ho,{ms:300,children:r.jsxs(k,{align:"center",direction:"column",height:"fill",justify:"center",children:[r.jsx(pn,{muted:!0}),r.jsx(R,{marginTop:3,children:r.jsx(O,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})});function ti(t){const e=t.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:t.document,patches:Xe(t.origin,e)}}function ni(t){const e=t.remoteMutations.map(o=>o.patch).filter(Boolean),n=t.localMutations.map(o=>o.patch).filter(Boolean);return{type:"rebase",snapshot:t.document,patches:Xe("remote",e).concat(Xe("local",n))}}function oi(){const{activeViewId:t,paneKey:e,views:n}=A(),o="".concat(e,"tabpanel");return r.jsx(jn,{space:1,children:n.map((s,a)=>{var i;return r.jsx(si,{icon:s.icon,id:"".concat(e,"tab-").concat(s.id),isActive:t===s.id,label:r.jsx(r.Fragment,{children:s.title}),tabPanelId:o,viewId:a===0?null:(i=s.id)!=null?i:null},s.id)})})}function si(t){const{isActive:e,tabPanelId:n,viewId:o}=t,{ready:s}=A(),{setView:a}=he(),i=u.useCallback(()=>a(o),[a,o]);return r.jsx(Ge,{...t,"aria-controls":n,disabled:!s,fontSize:1,selected:e,onClick:i})}function ri(){const{connectionState:t,schemaType:e,title:n,value:o}=A(),s=!!o&&t==="connected",{error:a,value:i}=_n({enabled:s,schemaType:e,value:o});return t!=="connected"?r.jsx(r.Fragment,{}):n?r.jsx(r.Fragment,{children:n}):o?a?r.jsxs(r.Fragment,{children:["Error: ",a.message]}):r.jsx(r.Fragment,{children:(i==null?void 0:i.title)||r.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):r.jsxs(r.Fragment,{children:["New ",(e==null?void 0:e.title)||(e==null?void 0:e.name)]})}const ai=u.memo(u.forwardRef(function(e,n){const{onMenuAction:o,onPaneClose:s,onPaneSplit:a,menuItems:i,menuItemGroups:l,schemaType:c,timelineStore:d,ready:f,views:m,unstable_languageFilter:g}=A(),{features:j}=ne(),{index:v,BackLink:_,hasGroupSiblings:I}=he(),{actions:P}=mo(),b=u.useMemo(()=>go({actionHandler:o,fieldActions:P,menuItems:i,menuItemGroups:l}),[o,P,l,i]),w=u.useMemo(()=>b.filter(xo),[b]),h=u.useMemo(()=>b.filter(vo),[b]),p=m.length>1,x=me(d,C=>C.revTime),{collapsed:S,isLast:y}=nt(),E=y&&!S?-1:0,D=j.splitViews&&a&&m.length>1,T=D&&I,N=!T&&!j.backButton;return r.jsx(ot,{ref:n,loading:!f,title:r.jsx(ri,{}),tabs:p&&r.jsx(oi,{}),tabIndex:E,backButton:j.backButton&&v>0&&r.jsx($,{as:_,"data-as":"a",icon:bo,mode:"bleed",padding:2}),subActions:r.jsx(yo,{chunk:x,mode:"rev",placement:"bottom-end"}),actions:r.jsxs(k,{align:"center",gap:1,children:[g.length>0&&r.jsx(r.Fragment,{children:g.map((C,M)=>u.createElement(C,{key:"language-filter-".concat(M),schemaType:c}))}),w.map(C=>r.jsx(jo,{node:C},C.key)),r.jsx(_o,{nodes:h},"context-menu"),D&&r.jsx(ie,{content:r.jsx(O,{size:1,style:{whiteSpace:"nowrap"},children:"Split pane right"}),padding:2,placement:"bottom",portal:!0,children:r.jsx($,{"aria-label":"Split pane right",icon:Po,mode:"bleed",onClick:a},"split-pane-button")}),T&&r.jsx($,{icon:Ye,mode:"bleed",onClick:s,title:"Close split pane"},"close-view-button"),N&&r.jsx($,{icon:Ye,mode:"bleed",title:"Close pane group",as:_},"close-view-button")]})})}));var Ut=Object.freeze,ii=Object.defineProperty,li=(t,e)=>Ut(ii(t,"raw",{value:Ut(e||t.slice())})),Vt;const ci=W(R)({position:"relative"}),di=W(ms)(t=>{let{$disabled:e}=t;return e?{height:"100%"}:cn(Vt||(Vt=li([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),ui=function(e){const{footerHeight:n,isInspectOpen:o,rootElement:s,setDocumentPanelPortalElement:a}=e,{activeViewId:i,displayed:l,documentId:c,editState:d,inspector:f,value:m,views:g,ready:j,schemaType:v,permissions:_,isPermissionsLoading:I,isDeleting:P,isDeleted:b,timelineStore:w,formState:h}=A(),{collapsed:p}=rt(),{collapsed:x}=nt(),S=Pn(),{features:y}=ne(),[E,D]=u.useState(null),T=Oe(E),N=u.useRef(null),[C,M]=u.useState(null),H=u.useRef(null),Y=m._createdAt?"update":"create",xe=u.useMemo(()=>{if(h)return h.groups.find(le=>le.selected)},[h]),G=u.useMemo(()=>g.find(le=>le.id===i)||g[0]||{type:"form"},[i,g]),Z=y.splitPanes&&N.current||S.element,q=u.useMemo(()=>p?[(T==null?void 0:T.height)||0,0,n?n+2:2,0]:[0,0,2,0],[p,n,T]),Kn=G.type!=="form",qn=u.useMemo(()=>G.type==="component"&&G.component&&u.createElement(G.component,{document:{draft:(d==null?void 0:d.draft)||null,displayed:l||m,historical:l,published:(d==null?void 0:d.published)||null},documentId:c,options:G.options,schemaType:v}),[G,l,c,d==null?void 0:d.draft,d==null?void 0:d.published,v,m]),Xn=me(w,le=>le.lastNonDeletedRevId);u.useEffect(()=>{C!=null&&C.scrollTo&&C.scrollTo(0,0)},[c,C]),u.useEffect(()=>{Z&&a(Z)},[Z,a]);const Jn=u.useMemo(()=>o?r.jsx(za,{value:l||m}):null,[o,l,m]),ht=!!(!x&&f);return r.jsxs(r.Fragment,{children:[r.jsx(ai,{ref:D}),r.jsx(Re,{children:r.jsxs(k,{height:"fill",children:[(y.resizablePanes||!ht)&&r.jsx(ci,{flex:2,overflow:"hidden",children:r.jsx(Te,{element:Z,__unstable_elements:{documentScrollElement:C},children:r.jsx(gt,{element:C,children:r.jsxs(Vo,{scrollElement:C,containerElement:H,children:[G.type==="form"&&!I&&j&&r.jsxs(r.Fragment,{children:[r.jsx(Ka,{granted:!!(_!=null&&_.granted),requiredPermission:Y}),!P&&b&&r.jsx($a,{revisionId:Xn}),r.jsx(Hn,{})]}),r.jsxs(di,{$disabled:p||!1,"data-testid":"document-panel-scroller",ref:M,children:[r.jsx(ei,{hidden:Kn,margins:q,ref:H},c+(j?"_ready":"_pending")),qn]},"".concat(xe==null?void 0:xe.name,"-").concat(c,"}")),Jn,r.jsx("div",{"data-testid":"document-panel-portal",ref:N})]})})})}),ht&&r.jsx(gt,{element:s,children:r.jsx(Xr,{documentId:c,documentType:v.name,flex:1})})]})})]})},Un=["left","bottom"],pi={small:0,medium:1,large:2,full:"auto"};function fi(t){const{dialog:e,referenceElement:n}=t;return r.jsx(Sn,{content:r.jsx(hi,{dialog:e}),fallbackPlacements:Un,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function hi(t){const{dialog:e}=t,{cancelButtonIcon:n,cancelButtonText:o,confirmButtonIcon:s,confirmButtonText:a,message:i,onCancel:l,onConfirm:c,tone:d}=e,{isTopLayer:f}=Cn(),[m,g]=u.useState(null),j=u.useCallback(()=>{f&&l()},[f,l]),v=u.useCallback(_=>{_.key==="Escape"&&f&&l()},[f,l]);return Dn(j,[m]),Rn(v),r.jsxs(k,{direction:"column",ref:g,style:{minWidth:320-16,maxWidth:400},children:[r.jsx(R,{flex:1,overflow:"auto",padding:4,children:r.jsx(O,{children:i})}),r.jsx(R,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:r.jsxs(Ts,{columns:2,gap:2,children:[r.jsx($,{icon:n,onClick:l,mode:"ghost",text:o||"Cancel"}),r.jsx($,{icon:s,onClick:c,text:a||"Confirm",tone:d})]})})]})}function mi(t){const{dialog:e}=t,n=u.useId(),o=e.footer&&r.jsx(R,{paddingX:4,paddingY:3,children:e.footer});return r.jsx(at,{zOffset:"fullscreen",children:r.jsx(lt,{__unstable_hideCloseButton:e.showCloseButton===!1,footer:o,header:e.header,id:n,onClose:e.onClose,onClickOutside:e.onClose,width:e.width===void 0?1:pi[e.width],children:r.jsx(R,{padding:4,children:e.content})})})}function gi(t){const{dialog:e,referenceElement:n}=t;return r.jsx(Sn,{content:r.jsx(xi,{dialog:e}),fallbackPlacements:Un,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function xi(t){const{dialog:e}=t,{content:n,onClose:o}=e,{isTopLayer:s}=Cn(),[a,i]=u.useState(null),l=u.useCallback(()=>{s&&o()},[s,o]),c=u.useCallback(d=>{d.key==="Escape"&&s&&o()},[s,o]);return Dn(l,[a]),Rn(c),r.jsx("div",{ref:i,children:n})}function Yt(t){const{children:e}=t,{element:n,elements:o}=Pn(),s=(o==null?void 0:o[mn])||n;return r.jsx(Te,{element:s,children:e})}function pt(t){const{dialog:e,referenceElement:n=null}=t,o=u.useId();if(e.type==="confirm")return r.jsx(fi,{dialog:e,referenceElement:n});if(e.type==="popover")return r.jsx(gi,{dialog:e,referenceElement:n});if(e.type==="dialog"||!e.type)return r.jsx(Yt,{children:r.jsx(mi,{dialog:e})});if(e.type==="custom")return r.jsx(Yt,{children:e==null?void 0:e.component});const s=e;return console.warn("Unsupported modal type ".concat(s.type)),r.jsx(lt,{id:o,onClose:s.onClose,onClickOutside:s.onClose,width:2,children:r.jsx(R,{padding:4,children:s.content||r.jsxs(r.Fragment,{children:["Unexpected modal type (",r.jsx("code",{children:s.type}),")"]})})})}function vi(t){const{actionStates:e,disabled:n}=t,o=u.useId(),s=u.useRef(null),[a,i]=u.useState(-1),[l,c]=u.useState(null),d=u.useCallback(g=>{i(g)},[]),f=u.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),m=e[a];return r.jsxs(r.Fragment,{children:[r.jsx(gs,{id:"".concat(o,"-action-menu"),button:r.jsx($,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:xs,mode:"ghost",ref:s}),menu:r.jsx(vs,{padding:1,children:e.map((g,j)=>r.jsx(bi,{actionState:g,disabled:n,index:j,onAction:d},j))}),popover:f,ref:c}),m&&m.dialog&&r.jsx(at,{zOffset:"paneFooter",children:r.jsx(pt,{dialog:m.dialog,referenceElement:l})})]})}function bi(t){const{actionState:e,disabled:n,index:o,onAction:s}=t,{onHandle:a}=e,i=u.useCallback(()=>{s(o),a&&a()},[o,s,a]),l=e.title&&r.jsx(R,{padding:2,children:r.jsx(O,{size:1,children:e.title})});return r.jsx(bs,{"data-testid":"action-".concat(e.label.replace(" ","")),disabled:n||!!e.disabled,onClick:i,padding:0,tone:e.tone,children:r.jsx(ie,{content:l,disabled:!l,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:r.jsxs(k,{align:"center",paddingX:3,children:[r.jsxs(k,{flex:1,paddingY:3,children:[e.icon&&r.jsx(R,{marginRight:3,children:r.jsxs(O,{children:[u.isValidElement(e.icon)&&e.icon,ys.isValidElementType(e.icon)&&u.createElement(e.icon)]})}),r.jsx(O,{children:e.label})]}),e.shortcut&&r.jsx(R,{marginLeft:3,children:r.jsx(En,{keys:String(e.shortcut).split("+").map(c=>c.slice(0,1).toUpperCase()+c.slice(1))})})]})})})}function Vn(t){const{disabled:e,showMenu:n,states:o}=t,[s,...a]=o,[i,l]=u.useState(null),c=u.useMemo(()=>!s||!s.title&&!s.shortcut?null:r.jsxs(k,{padding:2,style:{maxWidth:300},align:"center",children:[r.jsx(O,{size:1,children:s.title}),s.shortcut&&r.jsx(R,{marginLeft:s.title?2:0,children:r.jsx(En,{keys:String(s.shortcut).split("+").map(d=>d.slice(0,1).toUpperCase()+d.slice(1).toLowerCase())})})]}),[s]);return r.jsxs(k,{children:[s&&r.jsx(Yo,{zOffset:200,children:r.jsx(ie,{disabled:!c,content:c,portal:!0,placement:"top",children:r.jsx(J,{flex:1,children:r.jsx($,{"data-testid":"action-".concat(s.label),disabled:e||!!s.disabled,icon:s.icon,onClick:s.onHandle,ref:l,text:s.label,tone:s.tone||"primary"})})})}),n&&a.length>0&&r.jsx(R,{marginLeft:1,children:r.jsx(vi,{actionStates:a,disabled:e})}),s&&s.dialog&&r.jsx(pt,{dialog:s.dialog,referenceElement:i})]})}const yi=u.memo(function(){const{actions:e,connectionState:n,documentId:o,editState:s}=A();return!e||!s?null:r.jsx(ut,{actions:e,actionProps:s,children:a=>{let{states:i}=a;return r.jsx(Vn,{disabled:n!=="connected",showMenu:e.length>1,states:i},o)}})}),ji=u.memo(function(){const{connectionState:e,editState:n,timelineStore:o}=A(),s=me(o,d=>d.revTime),a=(s==null?void 0:s.id)||"",i=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===a,l=u.useMemo(()=>({...n||{},revision:a}),[n,a]),c=u.useMemo(()=>[Eo],[]);return r.jsx(ut,{actions:c,actionProps:l,children:d=>{let{states:f}=d;return r.jsx(Vn,{disabled:e!=="connected"||!!i,showMenu:!1,states:f})}})}),_i={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function Pi(t){let{states:e}=t;return r.jsx(js,{space:1,children:e.map((n,o)=>r.jsx(ie,{content:n.title&&r.jsx(R,{padding:2,children:r.jsx(O,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:r.jsx(_s,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?_i[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(o)))})}function Ei(){const{badges:t,editState:e}=A();return!e||!t?null:r.jsx($r,{badges:t,badgeProps:e,children:n=>{let{states:o}=n;return r.jsx(Pi,{states:o})}})}var Gt=Object.freeze,wi=Object.defineProperty,Ii=(t,e)=>Gt(wi(t,"raw",{value:Gt(e||t.slice())})),Kt;const Si=W(k)(Kt||(Kt=Ii([`
  cursor: default;
`])));function Ci(t){const{collapsed:e,disabled:n,lastPublished:o,lastUpdated:s,liveEdit:a}=t,i=K(o||"",{minimal:!0,agoSuffix:!0}),l=K(o||"",{minimal:!0}),c=K(s||"",{minimal:!0,agoSuffix:!0}),d=K(s||"",{minimal:!0}),f=K(s||"",{minimal:!1,agoSuffix:!0}),m=K(o||"",{minimal:!1,agoSuffix:!0}),g=a?"Last updated ".concat(f):"Last published ".concat(m);return r.jsx(Si,{align:"center","data-ui":"SessionLayout",sizing:"border",children:r.jsx(ie,{placement:"top",portal:!0,content:r.jsx(J,{padding:3,space:3,children:r.jsx(O,{size:1,children:a?r.jsxs(r.Fragment,{children:["Last updated"," ",r.jsx("abbr",{"aria-label":s?f:m,children:s?c:i})]}):r.jsxs(r.Fragment,{children:["Last published ",r.jsx("abbr",{"aria-label":m,children:i})]})})}),children:r.jsx($,{mode:"bleed",tone:a?"critical":"positive",tabIndex:-1,disabled:n,"aria-label":g,children:r.jsxs(k,{align:"center",children:[r.jsx(R,{marginRight:e?0:3,children:r.jsx(O,{size:2,"aria-hidden":"true",children:a?r.jsx(Go,{}):r.jsx(Ko,{})})}),!e&&r.jsx(O,{size:1,weight:"medium",children:a?r.jsx("abbr",{"aria-label":g,children:s?d:l}):r.jsx("abbr",{"aria-label":g,children:l})})]})})})})}var qt=Object.freeze,Di=Object.defineProperty,ft=(t,e)=>qt(Di(t,"raw",{value:qt(e||t.slice())})),Xt,Jt,Qt;const Ri=W(ge.path)(Xt||(Xt=ft([`
  transform-origin: center;
`]))),Oi=t=>r.jsx(ge.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...t}),Ti=t=>r.jsx(Ri,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...t}),Mi=t=>r.jsx(ge.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...t}),Ni=t=>r.jsx(ge.path,{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",...t}),ki=wo(Jt||(Jt=ft([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),Ai=W.g(Qt||(Qt=ft([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),ki),Li={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},zi={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},Fi={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},Bi={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},Wi={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function $i(t){const{status:e}=t;return e?r.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:r.jsxs(ge.g,{variants:Li,initial:e,animate:e,children:[r.jsxs(Ai,{"data-rotate":e==="changes"?void 0:"",children:[r.jsx(Ti,{variants:Fi,initial:e,animate:e}),r.jsx(Oi,{variants:zi,initial:e,animate:e})]}),r.jsx(Mi,{variants:Bi,initial:e,animate:e}),r.jsx(Ni,{variants:Wi,initial:e,animate:e})]})}):null}const Hi=st.forwardRef(function(e,n){const{collapsed:o,status:s,lastUpdated:a,...i}=e,l=K(a||"",{minimal:!0}),c=K(a||"",{minimal:!0,agoSuffix:!0}),d=K(a||"",{minimal:!1,agoSuffix:!0}),f=u.useMemo(()=>s==="syncing"?{text:"Saving...",tone:void 0}:s==="changes"?{text:l,tone:"caution"}:s==="saved"?{text:"Saved!",tone:"positive"}:{},[s,l]);return s?r.jsx(ie,{placement:"top",portal:!0,disabled:s!=="changes",content:r.jsxs(J,{padding:3,space:3,children:[r.jsx(O,{size:1,weight:"semibold",children:"Review changes"}),r.jsxs(O,{size:1,muted:!0,children:["Changes saved ",r.jsx("abbr",{"aria-label":d,children:c})]})]}),children:r.jsx($,{mode:"bleed",justify:"flex-start",tone:f==null?void 0:f.tone,...i,"data-testid":"review-changes-button",ref:n,"aria-label":"Review changes",children:r.jsxs(k,{align:"center",children:[r.jsx(R,{marginRight:o?0:3,"aria-hidden":"true",children:r.jsx(O,{children:r.jsx($i,{status:s})})}),!o&&r.jsx(O,{size:1,weight:"medium",children:f==null?void 0:f.text})]})})}):null}),Ui=st.memo(Hi),Vi=1e3,Yi=3e3,Gi=u.memo(function(){var e;const{changesOpen:n,documentId:o,documentType:s,editState:a,onHistoryClose:i,onHistoryOpen:l,timelineStore:c,value:d}=A(),f=Io(o,s),m=d==null?void 0:d._updatedAt,g=(e=a==null?void 0:a.published)==null?void 0:e._updatedAt,j=!!(a!=null&&a.liveEdit),v=!!(a!=null&&a.published),_=!!(a!=null&&a.draft),[I,P]=u.useState(null),b=Oe(I),w=!b||(b==null?void 0:b.width)<300,[h,p]=u.useState(null),x=me(c,E=>E.onOlderRevision);u.useEffect(()=>{if(h==="syncing"&&!f.isSyncing){const E=setTimeout(()=>p("saved"),Vi);return()=>clearTimeout(E)}if(h==="saved"){const E=setTimeout(()=>p(null),Yi);return()=>clearTimeout(E)}},[h,m,f.isSyncing]),u.useLayoutEffect(()=>{p(null)},[o]),u.useLayoutEffect(()=>{f.isSyncing&&p("syncing")},[f.isSyncing,m]);const S=u.useMemo(()=>r.jsx(Ui,{lastUpdated:m,status:h||(_?"changes":void 0),onClick:n?i:l,disabled:x,selected:n,collapsed:w}),[_,n,i,l,m,x,h,w]),y=u.useMemo(()=>(j||v)&&r.jsx(R,{marginRight:1,children:r.jsx(Ci,{disabled:x,lastPublished:g,lastUpdated:m,liveEdit:j,collapsed:w})}),[w,g,m,j,v,x]);return r.jsxs(k,{align:"center","data-ui":"DocumentSparkline",ref:P,children:[y,r.jsxs(k,{align:"center",flex:1,children:[S,!w&&r.jsx(R,{marginLeft:3,children:r.jsx(Ei,{})})]})]})});var Zt=Object.freeze,Ki=Object.defineProperty,qi=(t,e)=>Zt(Ki(t,"raw",{value:Zt(e||t.slice())})),en;const Xi=W(R)(en||(en=qi([`
  min-width: 10em;
  max-width: 16em;
`])));function Ji(t){const{actionsBoxRef:e}=t,{badges:n,timelineStore:o}=A(),s=me(o,a=>a.onOlderRevision);return u.useMemo(()=>r.jsx(R,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:r.jsxs(k,{align:"center",children:[r.jsx(R,{flex:[1,2],children:n&&r.jsx(Gi,{})}),r.jsx(Xi,{flex:1,marginLeft:[1,3],ref:e,children:s?r.jsx(ji,{}):r.jsx(yi,{})})]})}),[e,n,s])}function Qi(t){const{actionsBoxElement:e,activeIndex:n,as:o="div",children:s,id:a,onActionStart:i,onKeyDown:l,rootRef:c,states:d,...f}=t,m=d[n],g=u.useCallback(j=>{const v=d.filter(I=>I.shortcut&&gn(I.shortcut,j)),_=v[0];if(v.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(_.shortcut,'"')),_&&!_.disabled&&_.onHandle){j.preventDefault(),_.onHandle(),i(d.indexOf(_));return}l&&l(j)},[i,l,d]);return u.createElement(o,{id:a,onKeyDown:g,tabIndex:-1,...f,ref:c},[s,m&&m.dialog&&r.jsx(at,{zOffset:"paneFooter",children:r.jsx(pt,{dialog:m.dialog,referenceElement:e})})])}const Yn=st.memo(t=>{const{actionsBoxElement:e,as:n="div",children:o,...s}=t,{actions:a,editState:i}=A(),[l,c]=u.useState(-1),d=u.useCallback(m=>{c(m)},[]),f=u.useMemo(()=>i&&{...i,onComplete:()=>{},revision:void 0},[i]);return!f||!a?null:r.jsx(ut,{actionProps:f,actions:a,children:m=>{let{states:g}=m;return r.jsx(Qi,{...s,activeIndex:l,actionsBoxElement:e,as:n,onActionStart:d,states:g,children:o})}})});Yn.displayName="DocumentActionShortcuts";var tn=Object.freeze,Zi=Object.defineProperty,el=(t,e)=>tn(Zi(t,"raw",{value:tn(e||t.slice())})),nn;const on=["fixed","fixed","absolute"],tl=W(Ps)(nn||(nn=el([`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`]))),vl=u.memo(function(e){const{name:n}=fn();return r.jsx(hn,{name:e.pane.source||n,children:r.jsx(nl,{...e})})});function nl(t){var e;const{pane:n,paneKey:o}=t,{resolveNewDocumentOptions:s}=fn().document,a=he(),i=ol(n.options,a.params),{documentType:l,isLoaded:c}=So(i.id,i.type),d=u.useMemo(()=>s({type:"document",documentId:i.id,schemaType:i.type}),[i.id,i.type,s]),[f,m]=Co({templateItems:d}),g=c&&!m,j=u.useMemo(()=>g&&l&&i.type!==l?sl(t,i,l):t,[t,l,g,i]),{ReferenceChildLink:v,handleEditReference:_,groupIndex:I,routerPanesState:P}=a,b=((e=P[I+1])==null?void 0:e[0].params)||{},w=P.length,{parentRefPath:h}=b,p=u.useMemo(()=>h?{path:Ve(h),state:I>=w-1?"none":I>=w-2?"selected":"pressed"}:{path:[],state:"none"},[h,I,w]);return i.type==="*"&&!g?r.jsx(pe,{flex:2.5,minWidth:320,paneKey:o,title:"Loading document…"}):l?r.jsx(Do,{...j,children:r.jsx(Ro,{EditReferenceLinkComponent:v,onEditReference:_,initialValueTemplateItems:f,activePath:p,children:r.jsx(rl,{})})},"".concat(l,"-").concat(i.id)):r.jsx(Fn,{flex:2.5,minWidth:320,paneKey:o,title:r.jsx(r.Fragment,{children:"The document was not found"}),children:r.jsx(J,{space:4,children:r.jsxs(O,{as:"p",children:["The document type is not defined, and a document with the ",r.jsx("code",{children:i.id})," ","identifier could not be found."]})})})}function ol(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Oo();return u.useMemo(()=>{if(t.type&&t.type!=="*")return t;const o=t.template||e.template,s=o?n.find(i=>i.id===o):void 0,a=s==null?void 0:s.schemaType;return a?{...t,type:a}:t},[t,e.template,n])}function sl(t,e,n){return{...t,pane:{...t.pane,options:{...e,type:n}}}}function rl(){const{changesOpen:t,documentType:e,inspector:n,inspectOpen:o,onFocus:s,onPathOpen:a,onHistoryOpen:i,onKeyUp:l,paneKey:c,schemaType:d,value:f}=A(),{collapsed:m}=rt(),g=To(),[j,v]=u.useState(null),[_,I]=u.useState(null),[P,b]=u.useState(null),[w,h]=u.useState(null),p=Oe(_),x=p==null?void 0:p.height,S=u.useCallback(D=>{a(D),s(D)},[a,s]),y=qo+(n?Ke:0),E=Xo+(n?Ke:0);return d?r.jsxs(Yn,{actionsBoxElement:P,as:De,currentMinWidth:y,"data-testid":"document-pane",flex:2.5,id:c,minWidth:E,onKeyUp:l,rootRef:v,children:[r.jsx(mt,{position:on,zOffset:g.portal,children:r.jsx(k,{direction:"column",flex:1,height:m?void 0:"fill",children:r.jsx(tl,{"data-testid":"change-connector-root",isReviewChangesOpen:t,onOpenReviewChanges:i,onSetFocus:S,children:r.jsx(ui,{footerHeight:x||null,isInspectOpen:o,rootElement:j,setDocumentPanelPortalElement:h})})})}),r.jsx(Te,{__unstable_elements:{[mn]:w},children:r.jsx(mt,{position:on,zOffset:g.portal,children:r.jsx(No,{ref:I,children:r.jsx(Ji,{actionsBoxRef:b})})})}),r.jsx(Ca,{})]}):r.jsx(Fn,{currentMinWidth:y,flex:2.5,minWidth:E,paneKey:c,title:r.jsxs(r.Fragment,{children:["Unknown document type: ",r.jsx("code",{children:e})]}),tone:"caution",children:r.jsxs(J,{space:4,children:[e&&r.jsxs(O,{as:"p",children:["This document has the schema type ",r.jsx("code",{children:e}),", which is not defined as a type in the local content studio schema."]}),!e&&r.jsx(O,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),Mo]})})}function al(){return r.jsx(Q,{height:"fill",children:r.jsx(k,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:r.jsx(ae,{width:0,children:r.jsx(Q,{padding:4,radius:2,shadow:1,tone:"caution",children:r.jsxs(k,{children:[r.jsx(R,{children:r.jsx(O,{size:1,children:r.jsx(dn,{})})}),r.jsxs(J,{flex:1,marginLeft:3,space:3,children:[r.jsx(O,{as:"h1",size:1,weight:"bold",children:"No document types"}),r.jsx(O,{as:"p",muted:!0,size:1,children:"Please define at least one document type in your schema."}),r.jsx(O,{as:"p",muted:!0,size:1,children:r.jsx("a",{href:"https://www.sanity.io/docs/create-a-schema-and-configure-sanity-studio",target:"_blank",rel:"noreferrer",children:"Learn how to add a document type →"})})]})]})})})})})}const il=t=>{const{documentId:e,documentType:n}=t,o=Es(e,n),s=xn(),a=!(o!=null&&o.published)&&!(o!=null&&o.draft),i=(o==null?void 0:o.draft)||(o==null?void 0:o.published),l=s.get(n),{value:c,isLoading:d}=_n({enabled:!0,schemaType:l,value:i}),f=a?"New ".concat((l==null?void 0:l.title)||(l==null?void 0:l.name)):(c==null?void 0:c.title)||"Untitled",m=o.ready&&!d,g=Gn(f);return u.useEffect(()=>{m&&(document.title=g)},[f,m,g]),null},He=t=>{const{title:e}=t,n=Gn(e);return u.useEffect(()=>{document.title=n},[n,e]),null},ll=t=>{const{resolvedPanes:e}=t;if(!(e!=null&&e.length))return null;const n=e[e.length-1];return dl(n)?r.jsx(He,{}):cl(n)?n!=null&&n.title?r.jsx(He,{title:n.title}):r.jsx(il,{documentId:n.options.id,documentType:n.options.type}):r.jsx(He,{title:n==null?void 0:n.title})};function Gn(t){const e=ne().structureContext.title;return[t,e].filter(n=>n).join(" | ")}function cl(t){return t!==ue&&t.type==="document"}function dl(t){return t===ue}var sn=Object.freeze,ul=Object.defineProperty,pl=(t,e)=>sn(ul(t,"raw",{value:sn(e||t.slice())})),rn;const fl=W(qr)(rn||(rn=pl([`
  min-height: 100%;
  min-width: 320px;
`]))),hl=gn("mod+s"),ml=u.memo(function(e){let{onPaneChange:n}=e;var o;const{push:s}=tt(),a=xn(),{layoutCollapsed:i,setLayoutCollapsed:l}=ne(),{paneDataItems:c,resolvedPanes:d}=la(),f=et(u.useCallback(P=>typeof P.intent=="string",[])),{sanity:{media:m}}=ko(),[g,j]=u.useState(null),v=u.useCallback(()=>l(!0),[l]),_=u.useCallback(()=>l(!1),[l]);return u.useEffect(()=>{d.length&&n(d)},[n,d]),u.useEffect(()=>{const P=b=>{hl(b)&&(b.preventDefault(),s({closable:!0,id:"auto-save-message",status:"info",title:"Your work is automatically saved!",duration:4e3}))};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[s]),((o=a._original)==null?void 0:o.types.some(Ao))?r.jsxs(Te,{element:g||null,children:[r.jsxs(fl,{flex:1,height:i?void 0:"fill",minWidth:m[1],onCollapse:v,onExpand:_,children:[c.map(P=>{let{active:b,childItemId:w,groupIndex:h,itemId:p,key:x,pane:S,index:y,params:E,path:D,payload:T,siblingIndex:N,selected:C}=P;return r.jsx(u.Fragment,{children:S===ue?r.jsx(pe,{paneKey:x,path:D,selected:C}):r.jsx(Ea,{active:b,groupIndex:h,index:y,pane:S,childItemId:w,itemId:p,paneKey:x,params:E,payload:T,path:D,selected:C,siblingIndex:N})},"".concat(S===ue?"loading":S.type,"-").concat(y))}),c.length<=1&&f&&r.jsx(pe,{paneKey:"intent-resolver"})]}),r.jsx(ll,{resolvedPanes:d}),r.jsx("div",{"data-portal":"",ref:j})]}):r.jsx(al,{})});function gl(t){let{tool:{options:e}}=t;const{unstable_sources:n}=Jo(),[o]=n,{source:s,defaultDocumentNode:a,structure:i}=e||{};u.useEffect(()=>(Ae([]),()=>Ae([])),[]);const[{error:l},c]=u.useState({error:null});return l?r.jsx(ga,{error:l}):r.jsx(Qo,{onCatch:c,children:r.jsx(hn,{name:s||o.name,children:r.jsxs(Zo,{defaultDocumentNode:a,structure:i,children:[r.jsx(ml,{onPaneChange:Ae}),r.jsx(ua,{})]})})})}var bl=Object.freeze({__proto__:null,default:gl});export{vl as DocumentPane,bl as index,Da as useDeskToolSetting};
